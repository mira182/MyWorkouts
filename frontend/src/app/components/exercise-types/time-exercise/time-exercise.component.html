<div class="flex flex-col">
  <form [formGroup]="timeForm">
    <div class="flex flex-row sm:flex-col flex-wrap justify-start gap-y-22" formArrayName="sets">
      <div *ngFor="let set of sets.controls; let i = index" class="flex-grow">
        <mat-card class="mat-elevation-z4">
          <mat-card-content>
            <div class="flex flex-row justify-start items-center">
              <div class="flex-1 font-bold text-lg">{{ i + 1 }}</div>
              <button class="grow-0" mat-button matTooltip="{{'BUTTON.delete' | translate}}" (click)="removeSet(i)">
                <mat-icon>delete</mat-icon>
              </button>
            </div>
            <div class="flex flex-row" [formGroupName]="i">
              <input-number [step]="1" label="Minutes"
                            [initialValue]="initialMinutes"
                            [minimumValue]="0"
                            [errorMessage]="'ERROR.required.time' | translate"
                            (change)="minutesUpdated($event, i)"
                            suffix="m"></input-number>
              <input-number [step]="1" label="Seconds"
                            [initialValue]="initialSeconds"
                            [minimumValue]="0"
                            [errorMessage]="'ERROR.required.time' | translate"
                            (change)="secondsUpdated($event, i)"
                            suffix="s"></input-number>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </form>

  <div class="flex flex-row justify-end items-end">
    <button mat-button (click)="addSet()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
